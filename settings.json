{
    "train_pt_args": {
        "stage": "pt",
        "dataset": "wechat-pt",
        "dataset_dir": "./data/res_csv/pt",
        "lora_target": "query_key_value",
        "lora_rank": 2,
        "lora_dropout": 0.1,
        "output_dir": "model_output",
        "overwrite_cache": true,
        "per_device_train_batch_size": 1,
        "gradient_accumulation_steps": 1,
        "lr_scheduler_type": "cosine",
        "logging_steps": 10,
        "save_steps": 1000,
        "learning_rate": 0.001,
        "num_train_epochs": 30,
        "plot_loss": true,
        "fp16": true
    },
    "train_sft_args": {
        "stage": "sft",
        "dataset": "wechat-sft",
        "dataset_dir": "./data/res_csv/sft",
        "lora_target": "query_key_value",
        "lora_rank": 4,
        "lora_dropout": 0.5,
        "overwrite_cache": true,
        "per_device_train_batch_size": 4,
        "gradient_accumulation_steps": 8,
        "lr_scheduler_type": "cosine",
        "logging_steps": 10,
        "save_steps": 150,
        "learning_rate": 0.0001,
        "num_train_epochs": 3,
        "plot_loss": true,
        "fp16": true
    },
    "infer_args": {
        "repetition_penalty": 1.2,
        "temperature": 0.5,
        "max_length": 50,
        "top_p": 0.65
    },
    "make_dataset_args": {
        "enable_vision_model": false,
        "include_type": [
            "文本",
            "图片"
        ],
        "history_length": 10,
        "prefer_comma": false, //聊天时是不是喜欢使用逗号，
        "conversation_strategy": "time_window", // 基于时间窗口的判断策略
        "time_window": 10 // 时间窗口（分钟）
    },
    "common_args": {
        "model_name_or_path": "./chatglm3-6b",
        "adapter_name_or_path": "./model_output", //同时做为train_sft_args的output_dir
        "template": "chatglm3-weclone",
        "finetuning_type": "lora"
    }
}